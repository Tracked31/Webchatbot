<!DOCTYPE html> 
<html lang="de">    
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href=".\css\style.css" rel="stylesheet"> 
        <script src=".\js\jquery.js"></script>
        <script src=".\js\scripts.js"></script>
    </head>
        <body>
            <ul id="menu">
                <li><a href=".\html\home.html">Home</a></li>
                <li><a href=".\index.html">Chatbot</a></li>
                <li><a href=".\html\weiteres.html">Weiterf√ºhrend</a></li>
                <li><a href=".\html\contact.html">Kontakt</a></li>
            </ul>
            <div class="center-screen" id="module">
                <div class="msgs">
                        <section id ="chatboxuser">
                            <div class="bubbleWrapper">
                                <div class="inlineContainerUser">
                                    <div class="inlineIcon" src=".\images\Avatar_user.png">
                                        <div class="BubbleUser">
                                        </div>
                                    </div>   
                                </div>
                            </div>
                        </section>  
                    <section id ="chatboxbot">
                        <div class="bubbleWrapper">
                            <div class="inlineContainerBot">
                                <div class="inlineIcon" src=".\images\boticon.png">
                                    <div class="BubbleBot">       
                                    </div>
                                </div>   
                            </div>
                        </div>
                    </section>              
                </div>
            </div>
            <div class="lowerPart">
            <form id="chatForm">
                <input id="msg" type="text" placeholder=" Schreib mir eine Nachricht..."/>
                <button id="sendBtn" onclick=addtext()>Send</button>
            </form>
            </div>
    </body>
    <script>
            var socket = new WebSocket('ws://localhost:8181/', 'chat');
                var name = 'User'
                socket.onopen = function () {
                socket.send('{"type": "join", "name":" '+name+'"}');
                }
                $('#sendBtn').on('click', function (e) {
                e.preventDefault();
                //name = 'u1',
                msg = $('#msg').val();
                socket.send('{"type": "msg", "msg": "' + msg + '"}');
                     $('#msg').val('');
                });
                socket.onmessage = function (msg) {
                var data = JSON.parse(msg.data);
                switch (data.type) {
                        case 'msg':
                            var msg = $('<div>' + data.name + ': ' + data.msg +
                                        '</div>')
                                $('#msgs').append(msg);
                                break;
                        case 'join':
                            $('#users').empty();
                            for (var i = 0; i < data.names.length; i++) {
                            var user = $('<div>' + data.names[i] + '</div>');
                            $('#users').append(user);
                            }
                            break;
                        }};
                function addtext(){
                    var div1 = document.getElementsByClassName("BubbleUser")
                    div1.innerHTML += "msg"
                
                    var div2 = document.getElementsByClassName("BubbleBot")
                    div2.innerHTML += "data.msg"
                }
    </script>
</html>